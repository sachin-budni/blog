<div class="main-blog">
    <div class="blog-div">
        <mat-card class="example-card" *ngIf="blogObservable | async as blog">
            <mat-card-header>
                <mat-card-title class="header-name">
                    <h1>
                        {{blog?.title}}
                    </h1>
                </mat-card-title>
            </mat-card-header>

            <div mat-card-image [style.background-image]="'url('+blog?.titleImage+')'" class="title-images"></div>
            
            <div fxLayout="row" fxLayoutAlign="space-between center" fxLayout.xs="column" fxLayoutAlign="center start">
                <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10px" class="author">
                    <div mat-card-avatar class="example-header-image"></div>
                    <mat-card-subtitle>
                        <div [innerHTML]="blog?.authorName">Created By: {{blog?.authorName}}</div>
                        <div>{{date | date:'MMMM d, y'}}</div>
                    </mat-card-subtitle>
                </div>

                <div fxFlex></div>

                <div class="left-side-subtitle" fxLayout="row" fxLayoutAlign="end center">
                    <span>{{pageView}} views</span>
                    <span class="arrow">|</span>
                    <button mat-icon-button aria-label="Example icon-button with a heart icon" (click)="updateLike()">
                        <div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="5px" *ngIf="likes | async as like;else elseBlock">
                            <mat-icon [ngStyle]="{'color':like[currentUserUid]?'blue':'rgba(0, 0, 0, 0.54)'}"
                                class="material-icon-images">thumb_up</mat-icon>
                            <span>{{like.count}}</span>
                        </div>
                        <ng-template #elseBlock>
                            <div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="5px" >
                                <mat-icon [ngStyle]="{'color':'rgba(0, 0, 0, 0.54)'}"
                                    class="material-icon-images">thumb_up</mat-icon>
                                <span>0</span>
                            </div>
                        </ng-template>
                    </button>
                    <span class="arrow">|</span>
                    <button mat-button [matMenuTriggerFor]="social">
                        <div fxLayout="row" fxLayoutAlign="start center">
                            <mat-icon class="material-icon-images material-position sub-h-c">share</mat-icon>
                            Share
                        </div>
                    </button>
                    <mat-menu #social="matMenu">
                        <button mat-icon-button aria-label="Example icon-button with a heart icon" *ngFor="let social of socialMedia" (click)="openLink(social.link)">
                            <mat-icon [svgIcon]="social.name"></mat-icon>
                        </button>
                    </mat-menu>
                </div>
                <div>

                </div>
            </div>

            <div fxLayout="row" fxLayoutAlign="start start" fxLayoutGap="10px">
                <h4>category: </h4>
                <mat-chip-list aria-label="category" class="category-chips">
                    <mat-chip *ngFor="let item of blog?.category">{{item}}</mat-chip>
                </mat-chip-list>
            </div>

            <div class="divider">
                <mat-divider></mat-divider>
            </div>

            <mat-card-content>
                <div class="content">
                    <div *ngFor="let content of blog.content">

                        <ng-container *ngIf="content?.paragraph">
                            <div [innerHTML]="content?.paragraph"></div>
                        </ng-container>

                        <ng-container *ngIf="content?.image">
                            <img [src]="content?.image" alt="" class="contentImage">
                        </ng-container>

                        <ng-container *ngIf="content?.link">
                            <div class="videoWrapper">
                                <iframe width="420" height="345" class="youtube-link" [src]="content?.link | video">
                                </iframe>
                            </div>
                        </ng-container>

                    </div>
                </div>
            </mat-card-content>
            <mat-card-actions>
                <div class="actions" fxLayoutAlign="center" fxLayout="row">
                    <button mat-icon-button aria-label="Example icon-button with a heart icon" *ngFor="let social of socialMedia" (click)="openLink(social.link)">
                        <mat-icon [svgIcon]="social.name"></mat-icon>
                    </button>
                </div>
            </mat-card-actions>
        </mat-card>
    </div>
</div>

<!-- <div *ngIf="spinner">
        <div fxLayout="column" fxLayoutAlign="center center">
            <mat-spinner></mat-spinner>
        </div>
      </div>
      
      <div *ngIf="noData">
        <div fxLayout="column" fxLayoutAlign="center center">
          <h3>No Data ...</h3>
          <img src="assets/nodata.svg" alt="No data found" style="width: 40%">
        </div>
      </div> -->